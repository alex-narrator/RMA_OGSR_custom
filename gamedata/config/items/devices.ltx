;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Devices
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[device_atifact_merger]:identity_immunities
GroupControlSection	= spawn_group
discovery_dependency = 
$spawn 				= "devices\artifact merger"
;$prefetch 			= 32
class				= II_ATTCH
cform				= skeleton
visual				= equipments\item_merger
radius				= 1

inv_name			= ArtefactMerger
inv_name_short		= AfMerger
inv_weight			= 3	;0.2

inv_grid_width		= 2
inv_grid_height		= 1
inv_grid_x			= 6
inv_grid_y			= 13
cost				= 5000

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;	DEVICES
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[device_base]:identity_immunities
inv_grid_width			= 1
inv_grid_height			= 1
icon_group 				= 6

disassemble_tool 		= multitool
disassemble_parts 		= part_electronics

[binocular_a]:identity_immunities
GroupControlSection		= spawn_group
discovery_dependency	=
$spawn					= "devices\binocular_a"
cform                   = skeleton
class					= II_ATTCH
visual                  = weapons\binoculars\wpn_binoculars
cost					= 0
inv_name				= "binocular"
inv_name_short			= "binocular"
inv_weight				= .5
inv_grid_width			= 2
inv_grid_height			= 1
inv_grid_x				= 16
inv_grid_y				= 12
attach_angle_offset		= 3.080506,-1.493053,-1.202040   ;устанавливается в радианах Angle*PI/180
attach_position_offset	= 0.080000,0.021273,0.100000
attach_bone_name		= bip01_r_hand
auto_attach				= false

[device_pda]:device_base
GroupControlSection	= spawn_group
discovery_dependency=
$spawn 				= "devices\pda"
$prefetch 			= 16
class				= S_PDA
cform				= skeleton
visual				= dynamics\devices\dev_pda\dev_pda
radius				= 50;0 ;75
slot				= 7

power_source 		= pda_battery, 24
script_binding      = bind_device.init

;highlight_item 		= pda_battery

single_handed 		= false

inv_name			= st_device_pda_name
inv_name_short		= st_device_pda_short
description			= st_device_pda_descr

inv_weight			= 0.3	;0.2

inv_grid_x         = 1
inv_grid_y         = 0
cost				= 20

attach_angle_offset		= 3.080506,-1.493053,-1.202040   ;устанавливается в радианах Angle*PI/180
attach_position_offset	= 0.080000,0.021273,0.100000
attach_bone_name		= bip01_r_hand
auto_attach				= false

use_sound 					= interface\inv_detach_addon

hud                                                = pda_hud
animation_slot                                     = 2
joystick_bone                                      = joystick

snd_btn_press                                      = device\pda\pda_btn_press
snd_btn_release                                    = device\pda\pda_btn_release
snd_draw                             	           = device\pda\pda_draw
snd_draw_empty							 		   = device\pda\pda_draw_empty
snd_holster                          	 		   = device\pda\pda_holster
snd_holster_empty                      	 		   = device\pda\pda_holster_empty
snd_empty								 		   = device\pda\pda_dead

screen_on_delay							 		   = 0.7
screen_off_delay						 		   = 0.5
thumb_rot_x										   = 1
thumb_rot_y										   = -0.1

[device_pda_lootable]:device_pda
slot 				= 
icon_group 			= 6
inv_grid_width 		= 1
inv_grid_height 	= 1
inv_grid_x         	= 0
inv_grid_y         	= 0
cost				= 0
unique_item 		= true

[device_torch]:device_base
GroupControlSection	= spawn_group
discovery_dependency =
$spawn				= "devices\torch"
$prefetch 			= 32
class				= TORCH_S
cform				= skeleton
visual				= equipments\light_night

cost				= 1500

inv_name			= st_device_torch_name
inv_name_short		= st_device_torch_short
description			= st_device_torch_descr

inv_weight			= 0.3

inv_grid_x         	= 0
inv_grid_y         	= 6

slot				= 9


power_source 		= battery
script_binding      = bind_device.init
use_sound 			= interface\inv_detach_addon

;highlight_item 		= battery

hud = switch_torch_hud

;вещью нельзя торговать
can_trade				= true
position				= 0.35,0.25,0.0
light_trace_bone		= cone_bone
attach_angle_offset		= 0, -3.14, 1.6
attach_position_offset	= 0.115, 0.00, 0.07
attach_bone_name		= bip01_head
auto_attach				= false

snd_torch_on 			= device\torch\switch_torch
snd_torch_off 			= device\torch\switch_torch

light_definition 		= torch_definition
light_definition_second = torch_definition_long_range

[device_night_vision]:device_base
GroupControlSection	= spawn_group
discovery_dependency =
$spawn				= "devices\torch"
$prefetch 			= 32
class				= TORCH_S
cform				= skeleton
visual				= equipments\light_night

cost				= 100

inv_name			= st_device_night_vision_name
inv_name_short		= st_device_night_vision_short
description			= st_device_night_vision_descr

inv_weight			= 0

inv_grid_x         = 1
inv_grid_y         = 4;5

slot				= 9

power_source 		= battery
script_binding      = bind_device.init
use_sound 			= interface\inv_detach_addon

;highlight_item = battery

hud = switch_torch_hud

;вещью нельзя торговать
can_trade				= true
position				= 0.35,0.25,0.0
attach_angle_offset		= 0, -3.14, 1.6
attach_position_offset	= 0.115, 0.00, 0.07
attach_bone_name		= bip01_head
auto_attach				= false

;night_vision_texture		= hud_mask\nightvision\hud_nvg_gen1;wpn\wpn_crosshair;wpn\wpn_night
;night_vision_effector		= effector_nightvision ;postprocess_night

nv_color 		= 0.2, 0.3, 0.2
nv_intensity 	= 10
nv_vignette 	= 1.1

snd_night_vision_on			= device\torch\nv_start
snd_night_vision_off		= device\torch\nv_off
;snd_night_vision_idle		= weapons\nv_loop
;snd_night_vision_broken		= weapons\nv_offв

night_vision_recharge_time			= 6		;(c) время зарядки аккамулятора
night_vision_recharge_time_min		= 2		;(c) мин. время зарядки аккамулятора, после которого уст-во уже может работать
night_vision_discharge_time			= 20	;(c) время разрядки (работы) устройства после полной зарядки

;;--==========================< Flashlight >=============================
[device_flashlight]:device_base
GroupControlSection										= spawn_group
discovery_dependency =
$spawn													= "devices\flashlight"
$prefetch 												= 32
class                                                  = S_FLALIT
cform                                                  = skeleton
visual                                                 = dynamics\devices\dev_tactical_torch\dev_tactical_torch; dynamics\devices\dev_flashlight\dev_flashlight
hud                                                    = device_flashlight_hud
slot                                                   = 8
animation_slot                                         = 7
cost                                                   = 1000
inv_weight                                             = 0.484

inv_grid_x         										= 0
inv_grid_y         										= 9

description			                                   = st_device_flashlight_descr
inv_name			                                   = st_device_flashlight_name
inv_name_short		                                   = st_device_flashlight_short

attach_angle_offset                                    = -1.303,0.107,-1.702
attach_position_offset                                 = 0.14,0.001,0.02
attach_bone_name                                       = bip01_l_hand
auto_attach                                            = false

torch_offset                                           = 0,0,0
omni_offset                                            = 0,0,0
torch_inertion_speed_min                               = 0.5
torch_inertion_speed_max                               = 7.5
light_definition                                       = device_flashlight_definition
light_definition_second                                = device_flashlight_definition_second
flashlight_section 										= device_flashlight_definition_second
light_trace_bone                                       = light_bone_1

attach_angle_offset                                    = 3.062, 0.008, -1.532
attach_position_offset                                 = 0.134, -0.007, 0.09

power_source 										   = battery
script_binding      								   = bind_device.init
use_sound 											   = interface\inv_detach_addon
snd_flashlight_switch									= interface\dyn_zoom_sound

;highlight_item 											= battery
belt 													= true

addon_icon_sect 										= addon_flashlight_icon

[device_flashlight_definition]
type                                                   = 2 ; type  0-Direct 1-Point 2-Spot 3-OMNIPART 4-Reflected
range                                                  = 20 ; range                 <in meters>
range_r2                                               = 20 ; range                 <in meters>
color                                                  = 0.8,0.7,0.8,0.2 ; four color components <r,g,b,a> 0.f<X<3.f
color_r2                                               = 1.0,0.9,1.0,0.9 ; four color components <r,g,b,a> 0.f<X<3.f
color_animator                                         = empty ; color animator name   (empty - not using animator) //light_torch_01
volumetric                                             = false
volumetric_quality                                     = 0.5
volumetric_intensity                                   = 0.10
volumetric_distance                                    = 0.25

omni_type                                              = 1 ; type  0-Direct 1-Point 2-Spot 3-OMNIPART 4-Reflected
omni_range                                             = 2 ; range                 <in meters>
omni_range_r2                                          = 0.1 ; range                 <in meters>
omni_color                                             = 0.35,0.3,0.35,0.1 ; four color components <r,g,b,a> 0.f<X<3.f
omni_color_r2                                          = 0.45,0.4,0.45,0.1 ; four color components <r,g,b,a> 0.f<X<3.f

spot_texture                                           = internal\internal_tactical_torch ; spot texture name     (using only in Second Render)
spot_angle                                             = 65 ; spot angle            <in gradus>

glow_texture                                           = glow\glow_tactical_torch ; glow texture name     (required)
glow_radius                                            = 0.2 ; glow radius           <in meters>
guide_bone                                             = light_bone_1 ; guid bone name        (required)

volumetric_enabled = true
volumetric_for_actor = true

[device_flashlight_definition_second]:device_flashlight_definition
spot_angle                                             = 35
range                                                  = 30 ; range                 <in meters>
range_r2                                               = 30 ; range                 <in meters>

[device_anpeq_16]:device_flashlight
visual          										= dynamics\weapons\wpn_addon\wpn_light_anpeq_16
hud                                                    = device_anpeq_16_hud
inv_name												= st_wpn_addon_light_anpeq_16_name
inv_name_short											= st_wpn_addon_light_anpeq_16_short
description 											= st_wpn_addon_light_anpeq_16_descr
icon_text 												= st_wpn_addon_light_anpeq_16_text
inv_weight												= .1

inv_grid_width     										= 1
inv_grid_height    										= 1
inv_grid_x         										= 1
inv_grid_y         										= 0
icon_group 												= 10

light_trace_bone                                       = wpn_body

light_definition                                       = device_anpeq_16_definition
light_definition_second                                = device_anpeq_16_definition_second

snd_laser_switch										= interface\dyn_zoom_sound
laser_light_section 									= red_laser_definition
addon_icon_sect 										= device_anpeq_16

[device_anpeq_16_definition]:device_flashlight_definition
guide_bone                                             = wpn_body
[device_anpeq_16_definition_second]:device_flashlight_definition_second
guide_bone                                             = wpn_body

;;;;;;;;;;;;;;;;;;;;;GLOWSTICK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[device_glowstick_green]:device_base
GroupControlSection						= spawn_group
discovery_dependency =
$spawn									= "devices\glow_stick"
$prefetch 								= 32
cform                                   = skeleton
class									= S_FLALIT
visual									= dynamics\devices\dev_glowstick\dev_glowstick_glow
slot									= 8
animation_slot							= 7

description								= st_device_glowstick_green_descr
inv_name								= st_device_glowstick_green_name
inv_name_short							= st_device_glowstick_green_short

inv_grid_x         						= 0
inv_grid_y         						= 3
cost									= 200
inv_weight								= 0.084
hud										= device_glowstick_hud
snd_draw								= device\glowstick_draw
snd_holster								= device\glowstick_holster
light_definition						= glowstick_definition_green

script_binding      					= bind_device.init

work_independent 						= true
light_direction 						= 0,0,0

breakable 								= true
use_condition 							= true
condition_as_power 						= true

disassemble_parts 						=

[glowstick_definition_green]
type									= 1 ; type  0-Direct 1-Point 2-Spot 3-OMNIPART 4-Reflected
range									= 0 ; range                 <in meters>
range_r2								= 0 ; range                 <in meters>
color									= 0.0,0.8,0.6,0.8 ; four color components <r,g,b,a> 0.f<X<3.f
color_r2								= 0.0,0.8,0.6,0.8 ; four color components <r,g,b,a> 0.f<X<3.f
color_animator							= empty ; color animator name   (empty - not using animator) //light_torch_01

omni_type								= 1 ; type  0-Direct 1-Point 2-Spot 3-OMNIPART 4-Reflected
omni_range								= 2 ; range                 <in meters>
omni_range_r2							= 12 ; range                 <in meters>
omni_color								= 0.35,0.3,0.35,0.1 ; four color components <r,g,b,a> 0.f<X<3.f
omni_color_r2							= 0.0,0.8,0.6,0.8 ; four color components <r,g,b,a> 0.f<X<3.f

;spot_texture							= internal\internal_tactical_torch ; spot texture name     (using only in Second Render)
spot_angle								= 65 ; spot angle            <in gradus>

glow_texture							= glow\empty ; glow texture name     (required)
glow_radius								= 0.2 ; glow radius           <in meters>
guide_bone								= lid ; guid bone name        (required)

[device_glowstick_orange]:device_glowstick_green
visual									= dynamics\devices\dev_glowstick\dev_glowstick_glow_orange
light_definition						= glowstick_definition_orange
hud										= device_glowstick_hud_orange

inv_name								= st_device_glowstick_orange_name
inv_name_short							= st_device_glowstick_orange_short
description								= st_device_glowstick_orange_descr

inv_grid_x         						= 1
cost									= 400

[glowstick_definition_orange]:glowstick_definition_green
; color									= 0.8,0.4,0.0,0.8
; color_r2								= 0.8,0.4,0.0,0.8
; range									= 10 ; range                 <in meters>
; range_r2								= 10 ; range                 <in meters>

omni_color_r2							= 0.8,0.4,0.0,0.8 ; four color components <r,g,b,a> 0.f<X<3.f
omni_range_r2							= 10 ; range                 <in meters>

[device_glowstick_red]:device_glowstick_green
visual									= dynamics\devices\dev_glowstick\dev_glowstick_glow_red
light_definition						= glowstick_definition_red
hud										= device_glowstick_hud_red

inv_name								= st_device_glowstick_red_name
inv_name_short							= st_device_glowstick_red_short
description								= st_device_glowstick_red_descr		

inv_grid_x         						= 2
cost									= 600

[glowstick_definition_red]:glowstick_definition_green
; color									= 0.4,0.1,0.0,0.8
; color_r2								= 0.4,0.1,0.0,0.8
; range									= 24 ; range                 <in meters>
; range_r2								= 24 ; range                 <in meters>

omni_color_r2							= 0.4,0.1,0.0,0.8 ; four color components <r,g,b,a> 0.f<X<3.f
omni_range_r2							= 24 ; range                 <in meters>

[device_glowstick_blue]:device_glowstick_green
visual									= dynamics\devices\dev_glowstick\dev_glowstick_glow_blue
light_definition						= glowstick_definition_blue
hud										= device_glowstick_hud_blue

inv_name								= st_device_glowstick_blue_name
inv_name_short							= st_device_glowstick_blue_short
description								= st_device_glowstick_blue_descr	

inv_grid_x         						= 3
cost									= 800

[glowstick_definition_blue]:glowstick_definition_green
; color									= 0.0,0.6,1.0,0.8
; color_r2								= 0.0,0.6,1.0,0.8
; range									= 8 ; range                 <in meters>
; range_r2								= 8 ; range                 <in meters>

omni_color_r2							= 0.0,0.6,1.0,0.8 ; four color components <r,g,b,a> 0.f<X<3.f
omni_range_r2							= 8 ; range                 <in meters>

[addon_flashlight_icon]
inv_grid_width		= 1
inv_grid_height		= 1
inv_grid_x			= 5
inv_grid_y			= 9
icon_group 			= 6