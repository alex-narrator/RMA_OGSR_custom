;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Devices
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[device_atifact_merger]:identity_immunities
GroupControlSection		= spawn_group
discovery_dependency 	= 
$spawn 					= "devices\artifact merger"
;$prefetch 				= 32
class					= II_ATTCH
cform					= skeleton
visual					= equipments\item_merger
radius					= 1

inv_name				= ArtefactMerger
inv_name_short			= AfMerger
inv_weight				= 3	;0.2

inv_grid_width			= 2
inv_grid_height			= 1
inv_grid_x				= 6
inv_grid_y				= 13
cost					= 5000

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;	DEVICES
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[device_base]:identity_immunities
GroupControlSection		= spawn_group
$prefetch 				= 16
cform					= skeleton

inv_grid_width			= 1
inv_grid_height			= 1
icon_group 				= device

[binocular_a]:identity_immunities
GroupControlSection		= spawn_group
discovery_dependency	=
$spawn					= "devices\binocular_a"
cform                   = skeleton
class					= II_ATTCH
visual                  = weapons\binoculars\wpn_binoculars
cost					= 0
inv_name				= "binocular"
inv_name_short			= "binocular"
inv_weight				= .5
inv_grid_width			= 2
inv_grid_height			= 1
inv_grid_x				= 16
inv_grid_y				= 12
attach_angle_offset		= 3.080506,-1.493053,-1.202040   ;устанавливается в радианах Angle*PI/180
attach_position_offset	= 0.080000,0.021273,0.100000
attach_bone_name		= bip01_r_hand
auto_attach				= false

[device_pda]:device_base
$spawn 					= "devices\pda"
class					= S_PDA
visual					= dynamics\devices\dev_pda\dev_pda
radius					= 50;0 ;75
slot					= 7

power_source 			= pda_battery, 24
script_binding      	= bind_device.init

;highlight_item 		= pda_battery

single_handed 			= false

inv_name				= st_device_pda_name
inv_name_short			= st_device_pda_short
description				= st_device_pda_descr
icon_text				= st_device_pda_text

inv_weight				= 0.3	;0.2

inv_grid_x         		= 1
inv_grid_y         		= 0
cost					= 20

can_trade 				= false

attach_angle_offset		= 3.080506,-1.493053,-1.202040   ;устанавливается в радианах Angle*PI/180
attach_position_offset	= 0.080000,0.021273,0.100000
attach_bone_name		= bip01_r_hand
auto_attach				= false

use_sound 				= interface\inv_detach_addon

hud                     = pda_hud
animation_slot          = 2
joystick_bone           = joystick

snd_btn_press           = device\pda\pda_btn_press
snd_btn_release         = device\pda\pda_btn_release
snd_draw                = device\pda\pda_draw
snd_draw_empty			= device\pda\pda_draw_empty
snd_holster             = device\pda\pda_holster
snd_holster_empty       = device\pda\pda_holster_empty
snd_empty				= device\pda\pda_dead

screen_on_delay			= 0.7
screen_off_delay		= 0.5
thumb_rot_x				= 1
thumb_rot_y				= -0.1

repair_icon_sect 		= pda_repair

;non-device NPC's hackable PDA
[device_pda_lootable]:device_base
class 					= S_PDA_ITM
visual					= dynamics\devices\dev_pda\dev_pda

inv_name				= st_device_pda_name
inv_name_short			= st_device_pda_short
description				= st_device_pda_descr
icon_text				= st_device_pda_text

inv_weight				= 0.3	;0.2

icon_group 				= device
inv_grid_width 			= 1
inv_grid_height 		= 1
inv_grid_x         		= 0
inv_grid_y         		= 0
cost					= 500

unique_item 			= true

repair_icon_sect 		= pda_repair

[device_torch]:device_base
$spawn					= "devices\torch"
$prefetch 				= 32
class					= TORCH_S
visual					= equipments\light_night

cost					= 1000

inv_name				= st_device_torch_name
inv_name_short			= st_device_torch_short
description				= st_device_torch_descr
icon_text				= st_device_torch_text

inv_weight				= 0.3

inv_grid_x         		= 0
inv_grid_y         		= 6

slot					= 9

power_source 			= battery
script_binding      	= bind_device.init
use_sound 				= interface\inv_detach_addon

hud 					= switch_torch_hud

;вещью нельзя торговать
can_trade				= true
position				= 0.35,0.25,0.0
light_trace_bone		= cone_bone
attach_angle_offset		= 0, -3.14, 1.6
attach_position_offset	= 0.115, 0.00, 0.07
attach_bone_name		= bip01_head
auto_attach				= false

snd_torch_on 			= device\torch\snd_switch_on
snd_torch_off 			= device\torch\snd_switch_off
snd_switch_mode 		= device\torch\switch_torch

light_definition 		= torch_definition
light_definition_second = torch_definition_long_range

[torch_definition]
range           = 60									; range                 <in meters>
range_r2        = 60									; range                 <in meters>
color           = 1.0,1.0,1.0,0.2						; four color components <r,g,b,a> 0.f<X<3.f
color_r2        = 1.2,1.2,1.2,0.2						; four color components <r,g,b,a> 0.f<X<3.f
omni_range      = 1.5									; range                 <in meters>
omni_range_r2   = 0;0.75								; range                 <in meters>
omni_color      = 1.0,1.0,1.0,0.1						; four color components <r,g,b,a> 0.f<X<3.f
omni_color_r2   = 1.0,1.0,1.0,0.1						; four color components <r,g,b,a> 0.f<X<3.f
color_animator  = empty									; color animator name   (empty - not using animator)
spot_texture    = internal\internal_light_torch_r2_new	; spot texture name     (using only in Second Render)
spot_angle      = 80									; spot angle            <in gradus>
glow_texture    = glow\glow_torch_r2					; glow texture name     (required)
glow_radius     = 0.3									; glow radius           <in meters>
guide_bone      = lights_bone							; guid bone name        (required)
volumetric_enabled 		= true
;volumetric_for_actor 	= true
brightness_min_k 	= 0.3 ; when device power low light brightness can`t be less then 30% of nominal

[torch_definition_long_range]:torch_definition
range           = 100									; range                 <in meters>
range_r2        = 50									; range                 <in meters>
spot_angle      = 50									; spot angle            <in gradus>

[nvd_base]:device_base
$spawn					= "devices\nvg"
$prefetch 				= 32
class					= TORCH_S
visual					= dynamics\nvg\nvg
slot					= 9

position				= 0.35,0.25,0.0
attach_angle_offset		= 0.050, -0.057, 1.600
attach_position_offset	= 0.195, -0.000, 0.100
attach_bone_name		= bip01_head
auto_attach				= false

power_source 			= battery
script_binding      	= bind_device.init
use_sound 				= interface\inv_detach_addon

snd_nvd_on 				= device\night_vision\nv_start
snd_nvd_off 			= device\night_vision\nv_off
snd_nvd_operate 		= device\night_vision\nvg_loop

nv_hud 					= nvg_binocular_hud

nv_mode 				= 1
nv_step 				= 0.5

hv_fade_distance 		= 13, 20, 0, 0
hv_blurring 			= 1, 1, 1.1, 1.1
hv_steps 				= -0.5, 0, 0, 1

[device_nvd_mono]:device_base,nvd_base
cost					= 138000

inv_name				= st_device_nvd_mono_name
inv_name_short			= st_device_nvd_mono_short
description				= st_device_nvd_mono_descr
icon_text				= st_device_nvd_mono_text

inv_weight				= .680

inv_grid_x         		= 1
inv_grid_y         		= 4

;night_vision_texture 	= hud_mask\nightvision\hud_nvg_gen1;wpn\wpn_crosshair;wpn\wpn_night
;night_vision_effector 	= effector_nightvision ;postprocess_night

nv_color 				= 0.2, 0.3, 0.2
nv_gain 				= 2
nv_vignette_size 		= 0.05
nv_radius 				= 0.5
nv_tube_num 			= 1
nv_noise 				= 0.1

repair_icon_sect 		= nvd_mono_repair

[device_nvd_bino]:device_base,nvd_base
cost					= 291000

inv_name				= st_device_nvd_bino_name
inv_name_short			= st_device_nvd_bino_short
description				= st_device_nvd_bino_descr
icon_text				= st_device_nvd_bino_text

inv_weight				= .545

inv_grid_x         		= 2
inv_grid_y         		= 4

;night_vision_texture 	= hud_mask\nightvision\hud_nvg_gen1;wpn\wpn_crosshair;wpn\wpn_night
;night_vision_effector 	= effector_nightvision ;postprocess_night

nv_color 				= 0.2, 0.3, 0.2
nv_gain 				= 2
nv_vignette_size 		= 0.1
nv_radius 				= 0.5
nv_tube_num 			= 2
nv_noise 				= 0.05

nv_hud_info_offset 		= 350, 650

repair_icon_sect 		= nvd_bino_repair

;;--==========================< TACTICAL TORCH >=============================
[device_tactical_torch]:device_base
$spawn 					= "devices\device_tactical_torch"
class 					= S_FLALIT
visual 					= dynamics\devices\dev_tactical_torch\dev_tactical_torch
hud 					= device_tactical_torch_hud
slot 					= 8
animation_slot 			= 7
cost 					= 2500
inv_weight 				= 0.484

inv_grid_x 				= 0
inv_grid_y 				= 9

description 			= st_device_tactical_torch_descr
description_1 			= st_picatinny_rail_mount
inv_name 				= st_device_tactical_torch_name
inv_name_short 			= st_device_tactical_torch_short
icon_text 				= st_device_tactical_torch_text

attach_angle_offset 	= -1.303,0.107,-1.702
attach_position_offset 	= 0.14,0.001,0.02
attach_bone_name 		= bip01_l_hand
auto_attach 			= false

torch_offset 			= 0,0,0
omni_offset 			= 0,0,0
torch_inertion_speed_min = 0.5
torch_inertion_speed_max = 7.5
light_definition 		= device_tactical_torch_definition
light_trace_bone 		= light_bone_1

attach_angle_offset 	= 3.062, 0.008, -1.532
attach_position_offset 	= 0.134, -0.007, 0.09

power_source 			= battery
script_binding 			= bind_device.init
use_sound 				= interface\inv_detach_addon
snd_flashlight_switch 	= interface\dyn_zoom_sound

belt 					= true

addon_icon_sect 		= addon_flashlight_icon

repair_icon_sect 		= tactical_torch_repair

[addon_flashlight_icon]
inv_grid_width 			= 1
inv_grid_height 		= 1
inv_grid_x 				= 0
inv_grid_y 				= 0
icon_group 				= addon

[device_tactical_torch_definition]
type 					= 2 ; type  0-Direct 1-Point 2-Spot 3-OMNIPART 4-Reflected
range 					= 60 ; range                 <in meters>
range_r2 				= 60 ; range                 <in meters>
color 					= 0.8,0.7,0.8,0.2 ; four color components <r,g,b,a> 0.f<X<3.f
color_r2 				= 1.0,0.9,1.0,0.9 ; four color components <r,g,b,a> 0.f<X<3.f
color_animator 			= empty ; color animator name   (empty - not using animator) //light_torch_01
volumetric 				= false
volumetric_quality 		= 0.5
volumetric_intensity 	= 0.10
volumetric_distance 	= 0.25

omni_type 				= 1 ; type  0-Direct 1-Point 2-Spot 3-OMNIPART 4-Reflected
omni_range 				= 2 ; range                 <in meters>
omni_range_r2 			= 0.1 ; range                 <in meters>
omni_color 				= 0.35,0.3,0.35,0.1 ; four color components <r,g,b,a> 0.f<X<3.f
omni_color_r2 			= 0.45,0.4,0.45,0.1 ; four color components <r,g,b,a> 0.f<X<3.f

spot_texture 			= internal\internal_tactical_torch_new ; spot texture name     (using only in Second Render)
spot_angle 				= 50 ; spot angle            <in gradus>

glow_texture 			= glow\glow_tactical_torch ; glow texture name     (required)
glow_radius 			= 0.2 ; glow radius           <in meters>
guide_bone 				= light_bone_1 ; guid bone name        (required)

volumetric_enabled 		= true
volumetric_for_actor 	= true

[device_anpeq_16]:device_tactical_torch
visual 					= dynamics\weapons\wpn_addon\wpn_light_anpeq_16
hud 					= device_anpeq_16_hud
inv_name 				= st_wpn_addon_light_anpeq_16_name
inv_name_short 			= st_wpn_addon_light_anpeq_16_short
description 			= st_wpn_addon_light_anpeq_16_descr
description_1 			= st_picatinny_rail_mount
description_2 			= st_laser_color_red
icon_text 				= st_wpn_addon_light_anpeq_16_text
inv_weight 				= .1

cost 					= 85000

inv_grid_width 			= 1
inv_grid_height 		= 1
inv_grid_x 				= 1
inv_grid_y 				= 0
icon_group 				= addon

light_definition 		= device_anpeq_16_definition

snd_laser_switch 		= interface\dyn_zoom_sound
laser_light_definition 	= red_laser_definition
addon_icon_sect 		= device_anpeq_16

[device_anpeq_16_definition]:device_tactical_torch_definition

;;;;;;;;;;;;;;;;;;;;;;;;;HAND FLASHLIGHT:::::::::::::::::::::::::::::::::::::::::::::::::::::
[device_flashlight]:device_base
class 					= S_FLALIT
slot 					= 8
animation_slot 			= 7
script_binding 			= bind_device.init

visual 					= dynamics\devices\dev_flashlight\dev_flashlight
hud 					= device_flashlight_hud
inv_name 				= st_device_flashlight_name
inv_name_short 			= st_device_flashlight_short
description 			= st_device_flashlight_descr
icon_text 				= st_device_flashlight_text
inv_weight 				= .1

cost 					= 600

inv_grid_width 			= 1
inv_grid_height 		= 1
inv_grid_x 				= 1
inv_grid_y 				= 6
icon_group 				= device

light_definition 		= device_flashlight_definition
light_definition_second = device_flashlight_definition_second

repair_icon_sect 		= flashlight_repair

[device_flashlight_definition]
type 					= 2 ; type  0-Direct 1-Point 2-Spot 3-OMNIPART 4-Reflected
range 					= 70 ; range                 <in meters>
range_r2 				= 70 ; range                 <in meters>
color 					= 0.8,0.7,0.8,0.2 ; four color components <r,g,b,a> 0.f<X<3.f
color_r2 				= 1.0,0.9,1.0,0.9 ; four color components <r,g,b,a> 0.f<X<3.f
color_animator 			= empty ; color animator name   (empty - not using animator) //light_torch_01
volumetric 				= false
volumetric_quality 		= 0.5
volumetric_intensity 	= 0.10
volumetric_distance 	= 0.25

omni_type 				= 1 ; type  0-Direct 1-Point 2-Spot 3-OMNIPART 4-Reflected
omni_range 				= 2 ; range                 <in meters>
omni_range_r2 			= 0.1 ; range                 <in meters>
omni_color 				= 0.35,0.3,0.35,0.1 ; four color components <r,g,b,a> 0.f<X<3.f
omni_color_r2 			= 0.45,0.4,0.45,0.1 ; four color components <r,g,b,a> 0.f<X<3.f

spot_texture 			= internal\internal_tactical_torch_new ; spot texture name     (using only in Second Render)
spot_angle 				= 80 ; spot angle            <in gradus>

glow_texture 			= glow\glow_tactical_torch ; glow texture name     (required)
glow_radius 			= 0.2 ; glow radius           <in meters>
guide_bone 				= light_bone_1 ; guid bone name        (required)

volumetric_enabled 		= true
volumetric_for_actor 	= true

[device_flashlight_definition_second]:device_flashlight_definition
range 					= 90 ; range                 <in meters>
range_r2 				= 90 ; range                 <in meters>
spot_angle 				= 60 ; spot angle            <in gradus>

;;;;;;;;;;;;;;;;;;;;;GLOWSTICK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[device_glowstick_green]:device_base
$spawn 					= "devices\glow_stick"
class 					= S_FLALIT
visual 					= dynamics\devices\dev_glowstick\dev_glowstick_glow
slot 					= 8
animation_slot 			= 7

description 			= st_device_glowstick_descr
inv_name 				= st_device_glowstick_name
inv_name_short 			= st_device_glowstick_short
icon_text 				= st_device_glowstick_short
description_1 			= st_glowstick_color_green

inv_grid_x 				= 0
inv_grid_y 				= 3
cost 					= 130
inv_weight 				= 0.084
hud 					= device_glowstick_hud
snd_draw 				= device\glowstick_draw
snd_holster 			= device\glowstick_holster
light_definition 		= glowstick_definition_green

script_binding 			= bind_device.init

work_independent 		= true
light_direction 		= 0,0,0

breakable 				= true
use_condition 			= true
condition_as_power 		= true

power_source 			= device_glowstick_green, 12

[glowstick_definition_common]
type 					= 1 ; type  0-Direct 1-Point 2-Spot 3-OMNIPART 4-Reflected
range_r2 				= 10 ; range                 <in meters>

color_animator 			= empty ; color animator name   (empty - not using animator) //light_torch_01

omni_type 				= 1 ; type  0-Direct 1-Point 2-Spot 3-OMNIPART 4-Reflected
omni_range_r2 			= 1 ; range                 <in meters>

;spot_texture 			= internal\internal_tactical_torch ; spot texture name     (using only in Second Render)
spot_angle 				= 0 ; spot angle            <in gradus>

glow_texture 			= glow\empty ; glow texture name     (required)
glow_radius 			= 0.2 ; glow radius           <in meters>
guide_bone 				= lid ; guid bone name        (required)

[glowstick_definition_green]:glowstick_definition_common
color_r2 				= 0.0,0.8,0.2,0.8 ; four color components <r,g,b,a> 0.f<X<3.f
omni_color_r2 			= 0.0,0.8,0.2,0.8 ; four color components <r,g,b,a> 0.f<X<3.f

[device_glowstick_orange]:device_glowstick_green
visual 					= dynamics\devices\dev_glowstick\dev_glowstick_glow_orange
light_definition 		= glowstick_definition_orange
hud 					= device_glowstick_hud_orange

description_1 			= st_glowstick_color_orange

inv_grid_x 				= 1

power_source 			= device_glowstick_orange, 12

[glowstick_definition_orange]:glowstick_definition_green
color_r2 				= 0.8,0.4,0.0,0.8
omni_color_r2 			= 0.8,0.4,0.0,0.8 ; four color components <r,g,b,a> 0.f<X<3.f

[device_glowstick_red]:device_glowstick_green
visual 					= dynamics\devices\dev_glowstick\dev_glowstick_glow_red
light_definition 		= glowstick_definition_red
hud 					= device_glowstick_hud_red

description_1 			= st_glowstick_color_red	

inv_grid_x 				= 2

power_source 			= device_glowstick_red, 12

[glowstick_definition_red]:glowstick_definition_green
color_r2 				= 0.4,0.1,0.0,0.8
omni_color_r2 			= 0.4,0.1,0.0,0.8 ; four color components <r,g,b,a> 0.f<X<3.f

[device_glowstick_blue]:device_glowstick_green
visual 					= dynamics\devices\dev_glowstick\dev_glowstick_glow_blue
light_definition 		= glowstick_definition_blue
hud 					= device_glowstick_hud_blue

description_1 			= st_glowstick_color_blue	

inv_grid_x 				= 3

power_source 			= device_glowstick_blue, 12

[glowstick_definition_blue]:glowstick_definition_green
color_r2 				= 0.0,0.6,1.0,0.8
omni_color_r2 			= 0.0,0.6,1.0,0.8 ; four color components <r,g,b,a> 0.f<X<3.f